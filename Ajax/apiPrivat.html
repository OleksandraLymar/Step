<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Privat Bank</title>
</head>
<body>
<table id="dataTable" border="1"></table>


<script>

    console.log('начало скрипта')

    // Отправка запроса:

    fetch('https://api.privatbank.ua/p24api/pubinfo?json&exchange&coursid=5')
        // Действия, которое выполняется после получения ответа
        .then(response => {
            console.log(' Пришел технический ответ')
            console.log(response)
            return response.json()
        })
        // Действия, которые выполняются с данными из ответа
        .then(json => {
            console.log('Данные из ответа')
            //данные в формате json
            console.log(json)

            let tbl = document.getElementById('dataTable')
            //создание цикла для отображения данных
            for (let i = 0; i < json.length; i++) {
                let tr = document.createElement('tr')
                let td1 = document.createElement('td')
                let td2 = document.createElement('td')
                let td3 = document.createElement('td')
                let td4 = document.createElement('td')

                //привязывание элементов
                td1.innerText = json[i].ccy
                td2.innerText = json[i].base_ccy
                td3.innerText = json[i].buy
                td4.innerText = json[i].sale

                tr.appendChild(td1)
                tr.appendChild(td2)
                tr.appendChild(td3)
                tr.appendChild(td4)

                tbl.appendChild(tr)

            }
        })
        //получение ошибки
        .catch( error => {
            console.log('Error!')
            console.log(error)
        })

</script>

</body>
</html>
